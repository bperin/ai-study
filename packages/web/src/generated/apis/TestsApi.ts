/* tslint:disable */
/* eslint-disable */
/**
 * Dash AI API
 * The Dash AI API description
 *
 * The version of the OpenAPI document: 1.0
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import * as runtime from '../runtime';
import type { ChatAssistanceDto, ChatAssistanceResponseDto, SubmitTestDto, TestHistoryItemDto, TestHistoryResponseDto, TestStatsDto } from '../models/index';
import { ChatAssistanceDtoFromJSON, ChatAssistanceDtoToJSON, ChatAssistanceResponseDtoFromJSON, ChatAssistanceResponseDtoToJSON, SubmitTestDtoFromJSON, SubmitTestDtoToJSON, TestHistoryItemDtoFromJSON, TestHistoryItemDtoToJSON, TestHistoryResponseDtoFromJSON, TestHistoryResponseDtoToJSON, TestStatsDtoFromJSON, TestStatsDtoToJSON } from '../models/index';

export interface TestsControllerGetAttemptDetailsRequest {
  id: string;
}

export interface TestsControllerGetChatAssistanceRequest {
  pdfId: string;
  chatAssistanceDto: ChatAssistanceDto;
}

export interface TestsControllerGetGlobalLeaderboardRequest {
  limit: string;
}

export interface TestsControllerGetPdfLeaderboardRequest {
  pdfId: string;
  limit: string;
}

export interface TestsControllerGetTestStatsRequest {
  pdfId: string;
}

export interface TestsControllerSubmitTestRequest {
  submitTestDto: SubmitTestDto;
}

/**
 *
 */
export class TestsApi extends runtime.BaseAPI {
  /**
   * Chat with AI for help on a question
   */
  async testsControllerChatAssistRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/chat`;

    const response = await this.request(
      {
        path: urlPath,
        method: 'POST',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.VoidApiResponse(response);
  }

  /**
   * Chat with AI for help on a question
   */
  async testsControllerChatAssist(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
    await this.testsControllerChatAssistRaw(initOverrides);
  }

  /**
   * Get all users test history
   */
  async testsControllerGetAllTestHistoryRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<TestHistoryResponseDto>> {
    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/history/all`;

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) => TestHistoryResponseDtoFromJSON(jsonValue));
  }

  /**
   * Get all users test history
   */
  async testsControllerGetAllTestHistory(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<TestHistoryResponseDto> {
    const response = await this.testsControllerGetAllTestHistoryRaw(initOverrides);
    return await response.value();
  }

  /**
   * Get detailed results for a specific test attempt
   */
  async testsControllerGetAttemptDetailsRaw(requestParameters: TestsControllerGetAttemptDetailsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<TestHistoryItemDto>> {
    if (requestParameters['id'] == null) {
      throw new runtime.RequiredError('id', 'Required parameter "id" was null or undefined when calling testsControllerGetAttemptDetails().');
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/attempt/{id}`;
    urlPath = urlPath.replace(`{${'id'}}`, encodeURIComponent(String(requestParameters['id'])));

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) => TestHistoryItemDtoFromJSON(jsonValue));
  }

  /**
   * Get detailed results for a specific test attempt
   */
  async testsControllerGetAttemptDetails(requestParameters: TestsControllerGetAttemptDetailsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<TestHistoryItemDto> {
    const response = await this.testsControllerGetAttemptDetailsRaw(requestParameters, initOverrides);
    return await response.value();
  }

  /**
   * Get AI assistance during test taking
   */
  async testsControllerGetChatAssistanceRaw(requestParameters: TestsControllerGetChatAssistanceRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ChatAssistanceResponseDto>> {
    if (requestParameters['pdfId'] == null) {
      throw new runtime.RequiredError('pdfId', 'Required parameter "pdfId" was null or undefined when calling testsControllerGetChatAssistance().');
    }

    if (requestParameters['chatAssistanceDto'] == null) {
      throw new runtime.RequiredError('chatAssistanceDto', 'Required parameter "chatAssistanceDto" was null or undefined when calling testsControllerGetChatAssistance().');
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    headerParameters['Content-Type'] = 'application/json';

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/{pdfId}/chat-assistance`;
    urlPath = urlPath.replace(`{${'pdfId'}}`, encodeURIComponent(String(requestParameters['pdfId'])));

    const response = await this.request(
      {
        path: urlPath,
        method: 'POST',
        headers: headerParameters,
        query: queryParameters,
        body: ChatAssistanceDtoToJSON(requestParameters['chatAssistanceDto']),
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) => ChatAssistanceResponseDtoFromJSON(jsonValue));
  }

  /**
   * Get AI assistance during test taking
   */
  async testsControllerGetChatAssistance(requestParameters: TestsControllerGetChatAssistanceRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ChatAssistanceResponseDto> {
    const response = await this.testsControllerGetChatAssistanceRaw(requestParameters, initOverrides);
    return await response.value();
  }

  /**
   */
  async testsControllerGetGlobalLeaderboardRaw(requestParameters: TestsControllerGetGlobalLeaderboardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
    if (requestParameters['limit'] == null) {
      throw new runtime.RequiredError('limit', 'Required parameter "limit" was null or undefined when calling testsControllerGetGlobalLeaderboard().');
    }

    const queryParameters: any = {};

    if (requestParameters['limit'] != null) {
      queryParameters['limit'] = requestParameters['limit'];
    }

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/leaderboard`;

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.VoidApiResponse(response);
  }

  /**
   */
  async testsControllerGetGlobalLeaderboard(requestParameters: TestsControllerGetGlobalLeaderboardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
    await this.testsControllerGetGlobalLeaderboardRaw(requestParameters, initOverrides);
  }

  /**
   */
  async testsControllerGetMyRankRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/leaderboard/me`;

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.VoidApiResponse(response);
  }

  /**
   */
  async testsControllerGetMyRank(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
    await this.testsControllerGetMyRankRaw(initOverrides);
  }

  /**
   */
  async testsControllerGetPdfLeaderboardRaw(requestParameters: TestsControllerGetPdfLeaderboardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
    if (requestParameters['pdfId'] == null) {
      throw new runtime.RequiredError('pdfId', 'Required parameter "pdfId" was null or undefined when calling testsControllerGetPdfLeaderboard().');
    }

    if (requestParameters['limit'] == null) {
      throw new runtime.RequiredError('limit', 'Required parameter "limit" was null or undefined when calling testsControllerGetPdfLeaderboard().');
    }

    const queryParameters: any = {};

    if (requestParameters['limit'] != null) {
      queryParameters['limit'] = requestParameters['limit'];
    }

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/leaderboard/pdf/{pdfId}`;
    urlPath = urlPath.replace(`{${'pdfId'}}`, encodeURIComponent(String(requestParameters['pdfId'])));

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.VoidApiResponse(response);
  }

  /**
   */
  async testsControllerGetPdfLeaderboard(requestParameters: TestsControllerGetPdfLeaderboardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
    await this.testsControllerGetPdfLeaderboardRaw(requestParameters, initOverrides);
  }

  /**
   * Get user\'s test history with scores and reports
   */
  async testsControllerGetTestHistoryRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<TestHistoryResponseDto>> {
    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/history`;

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) => TestHistoryResponseDtoFromJSON(jsonValue));
  }

  /**
   * Get user\'s test history with scores and reports
   */
  async testsControllerGetTestHistory(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<TestHistoryResponseDto> {
    const response = await this.testsControllerGetTestHistoryRaw(initOverrides);
    return await response.value();
  }

  /**
   * Get test stats: attempt count, avg score, top scorer
   */
  async testsControllerGetTestStatsRaw(requestParameters: TestsControllerGetTestStatsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<TestStatsDto>> {
    if (requestParameters['pdfId'] == null) {
      throw new runtime.RequiredError('pdfId', 'Required parameter "pdfId" was null or undefined when calling testsControllerGetTestStats().');
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/stats/{pdfId}`;
    urlPath = urlPath.replace(`{${'pdfId'}}`, encodeURIComponent(String(requestParameters['pdfId'])));

    const response = await this.request(
      {
        path: urlPath,
        method: 'GET',
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) => TestStatsDtoFromJSON(jsonValue));
  }

  /**
   * Get test stats: attempt count, avg score, top scorer
   */
  async testsControllerGetTestStats(requestParameters: TestsControllerGetTestStatsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<TestStatsDto> {
    const response = await this.testsControllerGetTestStatsRaw(requestParameters, initOverrides);
    return await response.value();
  }

  /**
   */
  async testsControllerSubmitTestRaw(requestParameters: TestsControllerSubmitTestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
    if (requestParameters['submitTestDto'] == null) {
      throw new runtime.RequiredError('submitTestDto', 'Required parameter "submitTestDto" was null or undefined when calling testsControllerSubmitTest().');
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    headerParameters['Content-Type'] = 'application/json';

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token('bearer', []);

      if (tokenString) {
        headerParameters['Authorization'] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/tests/submit`;

    const response = await this.request(
      {
        path: urlPath,
        method: 'POST',
        headers: headerParameters,
        query: queryParameters,
        body: SubmitTestDtoToJSON(requestParameters['submitTestDto']),
      },
      initOverrides,
    );

    return new runtime.VoidApiResponse(response);
  }

  /**
   */
  async testsControllerSubmitTest(requestParameters: TestsControllerSubmitTestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
    await this.testsControllerSubmitTestRaw(requestParameters, initOverrides);
  }
}
